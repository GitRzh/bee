/* ── RESET & ROOT ── */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
:root {
  --bg:#0a0a08; --bg2:#0e0e0b; --bg3:#131310; --panel:#181814; --panel2:#1e1e19;
  --gold:#d4a017; --gold2:#f5c842; --gold3:#8a6500;
  --gray:#3a3a32; --gray2:#5a5a4e;
  --text:#e8e8d8; --text2:#8a8a76; --text3:#4a4a3e;
  --border:rgba(212,160,23,0.12); --border2:rgba(212,160,23,0.22);
  --green:#4a9a5e; --red:#a04040; --orange:#c07030;
}
body { font-family:'Outfit',sans-serif; background:var(--bg); color:var(--text); height:100vh; overflow:hidden; display:flex; flex-direction:column; }

/* ── SCREEN ── */
.screen { display:none; height:100vh; width:100vw; overflow:hidden; }
.screen.active { display:flex; }

/* ── HEX BG ── */
.hex-bg {
  position:absolute; inset:0; pointer-events:none; z-index:0;
  background-image:radial-gradient(circle, rgba(212,160,23,0.07) 1px, transparent 1px);
  background-size:28px 28px;
}
.hex-bg::after {
  content:''; position:absolute; inset:0;
  background-image:radial-gradient(circle, rgba(212,160,23,0.04) 1px, transparent 1px);
  background-size:28px 28px; background-position:14px 14px;
}
.orb { position:absolute; border-radius:50%; filter:blur(100px); pointer-events:none; z-index:1; }
.orb1 { width:500px; height:500px; background:rgba(212,160,23,0.05); top:-150px; right:-150px; }
.orb2 { width:350px; height:350px; background:rgba(212,160,23,0.03); bottom:-100px; left:-100px; }

/* ══ SCREEN 1 — LANDING ══ */
#s1 { flex-direction:column; align-items:center; justify-content:center; position:relative; overflow:hidden; }
.s1-content { position:relative; z-index:2; display:flex; flex-direction:column; align-items:center; text-align:center; }

/* Neural ball */
.neural-wrap { position:relative; width:200px; height:200px; cursor:pointer; flex-shrink:0; }
#neuralCanvas { position:absolute; inset:0; }
.neural-glow {
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  width:120px; height:120px; border-radius:50%;
  background:radial-gradient(circle, rgba(212,160,23,0.3), transparent 70%);
  filter:blur(20px); animation:glowPulse 2s ease-in-out infinite; pointer-events:none;
}
@keyframes glowPulse { 0%,100%{opacity:0.6;transform:translate(-50%,-50%) scale(1)} 50%{opacity:1;transform:translate(-50%,-50%) scale(1.2)} }

/* Speech bubble */
.speech-bubble {
  position:absolute; background:var(--panel); border:1px solid var(--border2); border-radius:14px;
  padding:12px 18px; min-width:220px; max-width:280px;
  font-family:'Space Mono',monospace; font-size:0.7rem; color:var(--gold2);
  line-height:1.5; pointer-events:none; opacity:0;
  transition:opacity 0.25s ease;
  filter:drop-shadow(0 4px 24px rgba(212,160,23,0.22)); z-index:20;
  white-space:normal; word-break:break-word;
}
.speech-bubble.dir-top    { bottom:calc(100% + 20px); left:50%; transform:translateX(-50%); }
.speech-bubble.dir-top::after  { content:''; position:absolute; top:100%; left:50%; transform:translateX(-50%); border:8px solid transparent; border-top-color:var(--border2); }
.speech-bubble.dir-top::before { content:''; position:absolute; top:calc(100% - 1px); left:50%; transform:translateX(-50%); border:8px solid transparent; border-top-color:var(--panel); z-index:1; }
.speech-bubble.dir-right  { left:calc(100% + 20px); top:50%; transform:translateY(-50%); }
.speech-bubble.dir-right::after  { content:''; position:absolute; right:100%; top:50%; transform:translateY(-50%); border:8px solid transparent; border-right-color:var(--border2); }
.speech-bubble.dir-right::before { content:''; position:absolute; right:calc(100% - 1px); top:50%; transform:translateY(-50%); border:8px solid transparent; border-right-color:var(--panel); z-index:1; }
.speech-bubble.dir-left   { right:calc(100% + 20px); top:50%; transform:translateY(-50%); }
.speech-bubble.dir-left::after  { content:''; position:absolute; left:100%; top:50%; transform:translateY(-50%); border:8px solid transparent; border-left-color:var(--border2); }
.speech-bubble.dir-left::before { content:''; position:absolute; left:calc(100% - 1px); top:50%; transform:translateY(-50%); border:8px solid transparent; border-left-color:var(--panel); z-index:1; }
.speech-bubble.visible { opacity:1; }

/* BEE text */
@keyframes textShake  { 0%{transform:translate(0,0) skewX(0deg)} 15%{transform:translate(-5px,2px) skewX(-3deg)} 30%{transform:translate(5px,-2px) skewX(3deg)} 45%{transform:translate(-3px,3px) skewX(-2deg)} 60%{transform:translate(3px,-3px) skewX(2deg)} 80%{transform:translate(-1px,1px) skewX(-1deg)} 100%{transform:translate(0,0) skewX(0deg)} }
@keyframes textVibrate { 0%,100%{transform:translateX(0)} 20%{transform:translateX(-3px)} 40%{transform:translateX(3px)} 60%{transform:translateX(-2px)} 80%{transform:translateX(2px)} }
@keyframes textSpin    { 0%{transform:rotateY(0deg) scale(1)} 40%{transform:rotateY(90deg) scale(0.9)} 60%{transform:rotateY(180deg) scale(0.9)} 100%{transform:rotateY(360deg) scale(1)} }
@keyframes textGlitch  { 0%,100%{transform:translate(0);text-shadow:none} 20%{transform:translate(-3px,0);text-shadow:2px 0 rgba(0,212,255,0.6)} 40%{transform:translate(3px,0);text-shadow:-2px 0 rgba(255,50,50,0.6)} 60%{transform:translate(-1px,0);text-shadow:1px 0 rgba(0,212,255,0.4)} }
.bee-title.shake   { animation:textShake 0.5s ease; }
.bee-title.vibrate { animation:textVibrate 0.35s ease; }
.bee-title.spin    { animation:textSpin 0.7s cubic-bezier(0.34,1.56,0.64,1); }
.bee-title.glitch  { animation:textGlitch 0.45s steps(1); }

.bee-cursor { display:inline-block; width:4px; height:0.65em; background:var(--gold); margin-left:2px; vertical-align:middle; animation:cursorBlink 0.7s step-end infinite; }
@keyframes cursorBlink { 0%,100%{opacity:1} 50%{opacity:0} }

.bee-title {
  font-family:'Space Mono',monospace; font-size:clamp(4rem,8vw,7rem);
  font-weight:700; line-height:1; display:inline-block;
  background:linear-gradient(160deg, var(--gold2) 0%, var(--gold) 50%, var(--gold3) 100%);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
  letter-spacing:-3px;
}

/* Option cards */
.s1-options { display:flex; gap:14px; }
.opt-card {
  width:172px; background:var(--panel); border:1px solid var(--border2);
  border-radius:18px; padding:22px 18px;
  display:flex; flex-direction:column; gap:14px; cursor:pointer;
  transition:all 0.3s cubic-bezier(0.34,1.56,0.64,1); position:relative; overflow:hidden;
}
.opt-card::before { content:''; position:absolute; inset:0; background:linear-gradient(135deg,rgba(212,160,23,0.05),transparent); opacity:0; transition:opacity 0.3s; }
.opt-card:hover { transform:translateY(-6px); border-color:var(--gold); box-shadow:0 16px 40px rgba(212,160,23,0.15); }
.opt-card:hover::before { opacity:1; }
.opt-num   { font-family:'Space Mono',monospace; font-size:0.6rem; color:var(--text3); letter-spacing:2px; }
.opt-label { font-family:'Space Mono',monospace; font-size:0.88rem; font-weight:700; color:var(--text); line-height:1.3; }
.opt-sub   { font-size:0.72rem; color:var(--text2); line-height:1.5; flex:1; }
.opt-icon-box { width:32px; height:32px; border:1px solid var(--border2); border-radius:6px; display:flex; align-items:center; justify-content:center; font-size:0.85rem; color:var(--gold); margin-top:auto; }

/* Modal */
@keyframes fadeIn  { from{opacity:0}to{opacity:1} }
@keyframes slideUp { from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)} }
.modal-overlay { position:absolute; inset:0; background:rgba(0,0,0,0.75); backdrop-filter:blur(12px); display:flex; align-items:center; justify-content:center; z-index:500; }
.modal-card { background:var(--panel); border:1px solid var(--border2); border-radius:22px; padding:30px; width:400px; display:flex; flex-direction:column; gap:16px; animation:slideUp 0.3s cubic-bezier(0.34,1.56,0.64,1); }
.modal-tag   { font-family:'Space Mono',monospace; font-size:0.58rem; letter-spacing:3px; color:var(--gold); text-transform:uppercase; }
.modal-title { font-family:'Space Mono',monospace; font-size:1.15rem; font-weight:700; color:var(--text); }
.modal-input { width:100%; background:var(--bg3); border:1px solid var(--border2); border-radius:10px; padding:13px 16px; color:var(--text); font-family:'Outfit',sans-serif; font-size:0.9rem; outline:none; transition:all 0.2s; }
.modal-input:focus { border-color:var(--gold); box-shadow:0 0 0 3px rgba(212,160,23,0.08); }
.modal-input::placeholder { color:var(--text3); }
.modal-warn { background:rgba(160,64,64,0.1); border:1px solid rgba(160,64,64,0.3); border-radius:8px; padding:10px 12px; font-size:0.78rem; color:#d48080; display:flex; align-items:center; gap:8px; animation:fadeIn 0.2s; }
.modal-row  { display:flex; gap:10px; }
.modal-btn-sec { flex:1; background:transparent; border:1px solid var(--border2); border-radius:10px; padding:12px; color:var(--text2); font-family:'Space Mono',monospace; font-size:0.75rem; cursor:pointer; transition:all 0.2s; }
.modal-btn-sec:hover { border-color:var(--gray2); color:var(--text); }
.modal-btn-pri { flex:1; background:var(--gold); border:none; border-radius:10px; padding:12px; color:#000; font-family:'Space Mono',monospace; font-size:0.75rem; font-weight:700; cursor:pointer; transition:all 0.2s; }
.modal-btn-pri:hover { background:var(--gold2); box-shadow:0 4px 20px rgba(212,160,23,0.3); }
.file-drop { border:1px dashed var(--border2); border-radius:12px; padding:28px; text-align:center; cursor:pointer; transition:all 0.2s; }
.file-drop:hover { border-color:var(--gold); background:rgba(212,160,23,0.03); }
.file-drop i { font-size:2rem; color:var(--text3); margin-bottom:8px; display:block; }
.file-drop p { font-size:0.8rem; color:var(--text2); }

/* Sparkles / cursor glow */
#sparkleCanvas { position:absolute; inset:0; pointer-events:none; z-index:1; }
#cursorGlow { position:absolute; width:180px; height:180px; border-radius:50%; background:radial-gradient(circle, rgba(212,160,23,0.12) 0%, transparent 70%); pointer-events:none; z-index:1; transform:translate(-50%,-50%); transition:opacity 0.3s; opacity:0; }

/* ══ SCREEN 2 — INTERVIEW ══ */
#s2 { flex-direction:row; }
.sidebar { width:255px; background:var(--bg2); border-right:1px solid var(--border); display:flex; flex-direction:column; flex-shrink:0; overflow:hidden; position:relative; }
.sidebar-logo { padding:18px 20px; border-bottom:1px solid var(--border); display:flex; align-items:center; gap:10px; flex-shrink:0; }
.logo-hex { width:30px; height:30px; position:relative; flex-shrink:0; }
#logoCanvas { position:absolute; inset:0; }
.logo-name { font-family:'Space Mono',monospace; font-weight:700; font-size:1rem; color:var(--gold); letter-spacing:1px; }
.sidebar-top-block { border-bottom:1px solid var(--border); flex-shrink:0; padding:14px 18px; display:flex; flex-direction:column; gap:10px; }
.sidebar-label { font-family:'Space Mono',monospace; font-size:0.58rem; letter-spacing:3px; text-transform:uppercase; color:var(--text3); margin-bottom:6px; }
.stat-row  { display:flex; justify-content:space-between; align-items:center; padding:3px 0; }
.stat-name { font-size:0.78rem; color:var(--text2); }
.stat-val  { font-size:0.78rem; font-weight:600; color:var(--text); font-family:'Space Mono',monospace; }
.skill-tags { display:flex; flex-wrap:wrap; gap:5px; }
.s-tag { padding:3px 8px; border-radius:4px; font-family:'Space Mono',monospace; font-size:0.6rem; font-weight:700; background:rgba(212,160,23,0.1); color:var(--gold); border:1px solid var(--border); }
.divider { height:1px; background:var(--border); margin:2px 0; }
.sidebar-scroll { flex:1; overflow-y:auto; padding:12px 14px; scrollbar-width:thin; scrollbar-color:var(--border) transparent; display:flex; flex-direction:column; gap:10px; }
.section-group { display:flex; flex-direction:column; gap:4px; }
.section-group-label { font-family:'Space Mono',monospace; font-size:0.58rem; letter-spacing:2px; text-transform:uppercase; color:var(--gold3); padding:2px 0; display:flex; align-items:center; gap:6px; }
.section-group-label::after { content:''; flex:1; height:1px; background:var(--border); }
.q-dots { display:flex; gap:4px; flex-wrap:wrap; }
.dot { width:22px; height:22px; border-radius:5px; background:var(--bg3); border:1px solid var(--border); font-size:0.52rem; display:flex; align-items:center; justify-content:center; color:var(--text3); font-weight:700; font-family:'Space Mono',monospace; transition:all 0.2s; }
.dot.done    { background:rgba(74,154,94,0.35); border-color:var(--green); }
.dot.current { background:rgba(212,160,23,0.15); border-color:var(--gold); color:var(--gold); animation:dotPulse 1.2s ease-in-out infinite; }
@keyframes dotPulse { 0%,100%{opacity:1}50%{opacity:0.4} }
.history-divider { font-family:'Space Mono',monospace; font-size:0.58rem; letter-spacing:2px; text-transform:uppercase; color:var(--text3); padding:4px 0; display:flex; align-items:center; gap:6px; }
.history-divider::after { content:''; flex:1; height:1px; background:var(--border); }
.h-entry { padding:7px 9px; border-radius:7px; font-size:0.75rem; line-height:1.4; margin-bottom:4px; border-left:2px solid var(--border); color:var(--text2); background:rgba(255,255,255,0.02); word-break:break-word; }
.h-entry.q { border-left-color:var(--gold); }
.h-entry.a { border-left-color:var(--green); }

/* Main panel */
.main-panel { flex:1; display:flex; flex-direction:column; overflow:hidden; background:var(--bg); position:relative; }
.topbar { height:50px; border-bottom:1px solid var(--border); display:flex; align-items:center; padding:0 20px; gap:16px; flex-shrink:0; background:var(--bg2); }
.status-dot { width:7px; height:7px; border-radius:50%; background:var(--green); box-shadow:0 0 8px var(--green); animation:dotPulse 1.5s ease-in-out infinite; }
.topbar-info { display:flex; align-items:center; gap:8px; font-size:0.78rem; color:var(--text2); }
.topbar-timer { font-family:'Space Mono',monospace; font-size:0.82rem; color:var(--text); font-weight:700; margin-left:auto; background:var(--panel); padding:5px 14px; border-radius:20px; border:1px solid var(--border2); }
.interview-area { flex:1; display:flex; flex-direction:column; padding:16px; gap:10px; overflow:hidden; min-height:0; }

/* Banners */
.banner { border-radius:10px; padding:10px 14px; display:flex; align-items:center; gap:10px; font-size:0.8rem; flex-shrink:0; }
@keyframes bannerIn { from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)} }
.banner.warn   { background:rgba(192,112,48,0.1); border:1px solid rgba(192,112,48,0.3); animation:bannerIn 0.3s cubic-bezier(0.34,1.56,0.64,1); }
.banner.warn i { color:var(--orange); }
.banner.warn strong { color:var(--orange); display:block; }
.banner.warn span   { color:var(--text2); }
.banner.danger   { background:rgba(160,64,64,0.08); border:1px solid rgba(160,64,64,0.25); animation:bannerIn 0.3s cubic-bezier(0.34,1.56,0.64,1); }
.banner.danger i { color:var(--red); }
.banner.danger span { color:var(--text2); }

/* Question card */
.q-card { background:var(--panel); border:1px solid var(--border2); border-radius:16px; padding:18px 20px; flex-shrink:0; position:relative; overflow:hidden; }
.q-card::before { content:''; position:absolute; top:0; left:0; right:0; height:2px; background:linear-gradient(90deg,var(--gold3),var(--gold),var(--gold2),var(--gold3)); background-size:200% 100%; animation:shimmer 3s linear infinite; }
@keyframes shimmer { 0%{background-position:200% 0}100%{background-position:-200% 0} }
.q-meta { display:flex; align-items:center; gap:8px; margin-bottom:12px; flex-wrap:wrap; }
.q-tag { padding:3px 9px; border-radius:4px; font-family:'Space Mono',monospace; font-size:0.62rem; font-weight:700; letter-spacing:0.5px; text-transform:uppercase; }
.q-tag.theory  { background:rgba(212,160,23,0.12); color:var(--gold); border:1px solid rgba(212,160,23,0.2); }
.q-tag.coding  { background:rgba(192,112,48,0.12); color:var(--orange); border:1px solid rgba(192,112,48,0.2); }
.q-tag.aptitude{ background:rgba(90,90,78,0.25); color:var(--gray2); border:1px solid rgba(90,90,78,0.3); }
.q-tag.hr      { background:rgba(74,154,94,0.12); color:var(--green); border:1px solid rgba(74,154,94,0.2); }
.q-tag.easy    { background:rgba(74,154,94,0.1); color:var(--green); }
.q-tag.medium  { background:rgba(192,112,48,0.12); color:var(--orange); border:1px solid rgba(192,112,48,0.22); }
.q-tag.hard    { background:rgba(160,64,64,0.1); color:var(--red); }
.q-num { color:var(--text3); font-size:0.72rem; margin-left:auto; font-family:'Space Mono',monospace; }
.rephrase-btn { display:flex; align-items:center; gap:5px; background:transparent; border:1px solid var(--border2); border-radius:20px; padding:4px 11px; font-size:0.68rem; color:var(--gold); cursor:pointer; font-family:'Space Mono',monospace; font-weight:700; transition:all 0.2s; }
.rephrase-btn:hover { background:rgba(212,160,23,0.08); }
.rephrase-btn:disabled { opacity:0.4; cursor:not-allowed; }
.rephrase-count { background:var(--gold); color:#000; width:15px; height:15px; border-radius:50%; font-size:0.6rem; display:flex; align-items:center; justify-content:center; font-weight:700; }
.q-text { font-size:1rem; line-height:1.7; color:var(--text); }

/* Answer box */
.answer-box { flex:1; background:var(--panel); border:1px solid var(--border2); border-radius:14px; display:flex; flex-direction:column; overflow:hidden; min-height:0; transition:border-color 0.2s, box-shadow 0.2s; }
.answer-box:focus-within { border-color:var(--gold); box-shadow:0 0 0 3px rgba(212,160,23,0.08); }
.answer-ta { flex:1; background:transparent; border:none; outline:none; color:var(--text); font-family:'Outfit',sans-serif; font-size:0.92rem; padding:16px; resize:none; min-height:0; }
.answer-ta::placeholder { color:var(--text3); }
.answer-footer { padding:10px 16px; border-top:1px solid var(--border); display:flex; align-items:center; justify-content:space-between; flex-shrink:0; }
.char-ct { font-size:0.72rem; color:var(--text3); font-family:'Space Mono',monospace; }
.submit-btn { display:flex; align-items:center; gap:7px; background:var(--gold); color:#000; border:none; border-radius:8px; padding:8px 20px; font-family:'Space Mono',monospace; font-size:0.75rem; font-weight:700; cursor:pointer; transition:all 0.2s; }
.submit-btn:hover { background:var(--gold2); transform:translateY(-1px); box-shadow:0 4px 16px rgba(212,160,23,0.25); }
.submit-btn:disabled { opacity:0.5; cursor:not-allowed; transform:none; }

/* Loading overlay */
.loading-overlay { position:absolute; inset:0; background:rgba(10,10,8,0.88); backdrop-filter:blur(10px); display:flex; flex-direction:column; align-items:center; justify-content:center; gap:18px; z-index:100; animation:fadeIn 0.2s; }
.loading-neural { position:relative; width:70px; height:70px; }
#loadCanvas { position:absolute; inset:0; }
.loading-text { color:var(--text2); font-size:0.8rem; font-family:'Space Mono',monospace; letter-spacing:2px; }

/* ══ SCREEN 3 — RESULTS ══ */
#s3 { flex-direction:row; }
.results-sidebar { width:255px; background:var(--bg2); border-right:1px solid var(--border); display:flex; flex-direction:column; flex-shrink:0; padding:18px; gap:18px; overflow-y:auto; scrollbar-width:none; position:relative; }
.results-logo { display:flex; align-items:center; gap:10px; }
.logo-hex2 { width:30px; height:30px; position:relative; flex-shrink:0; }
#logoCanvas2 { position:absolute; inset:0; }
.results-logo span { font-family:'Space Mono',monospace; font-weight:700; font-size:1rem; color:var(--gold); }
.score-wrap { display:flex; flex-direction:column; align-items:center; gap:10px; }
.score-ring { position:relative; width:120px; height:120px; }
.score-ring svg { transform:rotate(-90deg); }
.ring-track { fill:none; stroke:var(--panel2); stroke-width:7; }
.ring-fill  { fill:none; stroke-width:7; stroke-linecap:round; transition:stroke-dashoffset 1.2s cubic-bezier(0.4,0,0.2,1); }
.score-inner { position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; }
.score-pct   { font-family:'Space Mono',monospace; font-size:1.7rem; font-weight:700; color:var(--gold); }
.score-lbl   { font-size:0.58rem; color:var(--text3); letter-spacing:2px; font-family:'Space Mono',monospace; }
.verdict-pill { padding:4px 18px; border-radius:20px; font-family:'Space Mono',monospace; font-size:0.68rem; font-weight:700; letter-spacing:2px; }
.verdict-pill.excellent { background:rgba(74,154,94,0.15); color:var(--green); border:1px solid rgba(74,154,94,0.3); }
.verdict-pill.good      { background:rgba(212,160,23,0.12); color:var(--gold); border:1px solid rgba(212,160,23,0.25); }
.verdict-pill.average   { background:rgba(192,112,48,0.12); color:var(--orange); border:1px solid rgba(192,112,48,0.25); }
.verdict-pill.poor      { background:rgba(160,64,64,0.12); color:var(--red); border:1px solid rgba(160,64,64,0.25); }
.section-block { display:flex; flex-direction:column; gap:10px; }
.sec-row { display:flex; flex-direction:column; gap:4px; }
.sec-top { display:flex; justify-content:space-between; }
.sec-name { font-size:0.65rem; color:var(--text2); text-transform:uppercase; letter-spacing:1px; font-family:'Space Mono',monospace; }
.sec-pct  { font-size:0.7rem; color:var(--text); font-weight:700; font-family:'Space Mono',monospace; }
.mini-bar  { height:3px; background:var(--panel2); border-radius:3px; overflow:hidden; }
.mini-fill { height:100%; border-radius:3px; background:linear-gradient(90deg,var(--gold3),var(--gold)); transition:width 1s ease; }
.r-actions { display:flex; flex-direction:column; gap:8px; margin-top:auto; }
.rbtn-pri { background:var(--gold); color:#000; border:none; border-radius:10px; padding:11px; font-family:'Space Mono',monospace; font-size:0.72rem; font-weight:700; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:6px; transition:all 0.2s; }
.rbtn-pri:hover { background:var(--gold2); }
.rbtn-sec { background:transparent; color:var(--text2); border:1px solid var(--border2); border-radius:10px; padding:11px; font-family:'Space Mono',monospace; font-size:0.72rem; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:6px; transition:all 0.2s; }
.rbtn-sec:hover { border-color:var(--gray2); color:var(--text); }
.results-main { flex:1; overflow-y:auto; padding:22px; display:flex; flex-direction:column; gap:20px; scrollbar-width:thin; scrollbar-color:var(--border) transparent; }
.r-section-title { font-family:'Space Mono',monospace; font-size:0.58rem; font-weight:700; letter-spacing:3px; text-transform:uppercase; color:var(--text3); margin-bottom:8px; }
.weak-item { display:flex; align-items:center; padding:11px 14px; background:var(--panel); border:1px solid rgba(160,64,64,0.2); border-radius:10px; margin-bottom:6px; }
.weak-name { font-size:0.82rem; color:var(--text); font-weight:500; }
.weak-pct  { font-family:'Space Mono',monospace; font-size:0.78rem; color:var(--red); font-weight:700; }
.suggestion-item { display:flex; align-items:flex-start; gap:10px; padding:11px 14px; background:var(--panel); border:1px solid var(--border); border-radius:10px; font-size:0.8rem; color:var(--text2); line-height:1.5; margin-bottom:6px; }
.suggestion-item i { color:var(--gold); margin-top:2px; flex-shrink:0; }
.resource-link { display:flex; align-items:center; gap:8px; padding:9px 12px; background:var(--panel); border:1px solid var(--border); border-radius:8px; font-size:0.76rem; color:var(--gold); text-decoration:none; transition:all 0.2s; margin-bottom:5px; overflow:hidden; }
.resource-link:hover { background:var(--panel2); }
.resource-link i { color:var(--text3); font-size:0.68rem; flex-shrink:0; }
.resource-link span { white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.review-card { background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:14px; margin-bottom:8px; border-left:3px solid var(--border); }
.review-card.pass { border-left-color:var(--green); }
.review-card.warn { border-left-color:var(--gold); }
.review-card.fail { border-left-color:var(--red); }
.review-top  { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
.review-meta { font-family:'Space Mono',monospace; font-size:0.6rem; color:var(--text3); letter-spacing:1px; text-transform:uppercase; }
.review-icon      { font-size:1rem; }
.review-icon.pass { color:var(--green); }
.review-icon.warn { color:var(--gold); }
.review-icon.fail { color:var(--red); }
.review-q  { font-size:0.85rem; color:var(--text); margin-bottom:6px; line-height:1.5; }
.review-a  { font-size:0.75rem; color:var(--text2); font-style:italic; border-left:2px solid var(--border); padding-left:8px; margin-bottom:6px; line-height:1.5; }
.review-fb { font-size:0.75rem; color:var(--gold); display:flex; align-items:flex-start; gap:6px; }

/* ══ CODE EDITOR ══ */
.code-editor-box {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: var(--panel);
  border: 1px solid var(--border2);
  border-radius: 14px;
  overflow: hidden;
  min-height: 0;
  transition: border-color 0.2s, box-shadow 0.2s;
}
.code-editor-box:focus-within {
  border-color: var(--orange);
  box-shadow: 0 0 0 3px rgba(192,112,48,0.08);
}
.code-editor-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 14px;
  border-bottom: 1px solid var(--border);
  background: rgba(0,0,0,0.25);
  flex-shrink: 0;
  gap: 12px;
  flex-wrap: wrap;
}
.code-editor-title {
  display: flex;
  align-items: center;
  gap: 8px;
  font-family: 'Space Mono', monospace;
  font-size: 0.7rem;
  font-weight: 700;
  color: var(--orange);
  letter-spacing: 0.5px;
}
.code-editor-hint {
  font-size: 0.62rem;
  color: var(--text3);
  font-weight: 400;
  letter-spacing: 0;
}
.lang-selector-wrap {
  display: flex;
  align-items: center;
  gap: 8px;
}
.lang-label {
  font-family: 'Space Mono', monospace;
  font-size: 0.6rem;
  color: var(--text3);
  letter-spacing: 1px;
  text-transform: uppercase;
}
.lang-select-container {
  position: relative;
  display: flex;
  align-items: center;
}
.lang-select {
  appearance: none;
  background: var(--bg3);
  border: 1px solid var(--border2);
  border-radius: 6px;
  color: var(--gold);
  font-family: 'Space Mono', monospace;
  font-size: 0.68rem;
  font-weight: 700;
  padding: 5px 28px 5px 10px;
  cursor: pointer;
  outline: none;
  transition: border-color 0.2s, background 0.2s;
  max-height: 180px;
}
.lang-select:hover { border-color: var(--gold); background: var(--panel2); }
.lang-select:focus { border-color: var(--gold); }
.lang-select option { background: var(--bg3); color: var(--text); font-size: 0.75rem; }
.lang-select-arrow {
  position: absolute;
  right: 8px;
  font-size: 0.55rem;
  color: var(--gold);
  pointer-events: none;
}
.cm-wrapper {
  flex: 1;
  overflow: auto;
  min-height: 0;
}
/* Override CodeMirror theme to match BEE aesthetic */
.cm-wrapper .CodeMirror {
  height: 100%;
  font-family: 'Space Mono', 'Fira Code', monospace;
  font-size: 0.82rem;
  line-height: 1.65;
  background: transparent !important;
}
.cm-wrapper .CodeMirror-scroll { min-height: 100px; }
.cm-wrapper .CodeMirror-gutters {
  background: rgba(0,0,0,0.3) !important;
  border-right: 1px solid var(--border) !important;
}
.cm-wrapper .CodeMirror-linenumber { color: var(--text3) !important; font-size: 0.72rem; }
.cm-wrapper .CodeMirror-cursor { border-left-color: var(--gold) !important; }
.cm-wrapper .CodeMirror-selected { background: rgba(212,160,23,0.12) !important; }
.cm-wrapper .CodeMirror-focused .CodeMirror-selected { background: rgba(212,160,23,0.16) !important; }
.code-footer { background: rgba(0,0,0,0.15); }

/* Info banner (evaluating) */
.banner.info { background: rgba(212,160,23,0.07); border: 1px solid rgba(212,160,23,0.2); }
.banner.info i { color: var(--gold); }
.banner.info span { color: var(--text2); }
